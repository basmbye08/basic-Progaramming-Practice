#include<stdio.h>
#include<ctype.h>
#define MAX 100

char stack[MAX];
int top=-1;

void push(char ch) {
    stack[++top]=ch;
}

char pop() {
    if(top==-1) return -1;
    return stack[top--];
}

int priority(char ch) {
    if(ch=='(') return 0;
    if(ch=='+' || ch=='-') return 1;
    if(ch=='*' || ch=='/') return 2;
    if(ch=='^') return 3;
    return 0;
}

int main() {
    char infix[MAX], postfix[MAX], ch;
    int i=0, k=0;
    
    printf("Enter infix expression: ");
    scanf("%s", infix);
    
    while(infix[i]!='\0') {
        if(isalnum(infix[i])) {
            postfix[k++]=infix[i];
        }
        else if(infix[i]=='(') {
            push(infix[i]);
        }
        else if(infix[i]==')') {
            while((ch=pop())!='(') {
                postfix[k++]=ch;
            }
        }
        else {
            while(priority(stack[top])>=priority(infix[i])) {
                postfix[k++]=pop();
            }
            push(infix[i]);
        }
        i++;
    }
    
    while(top!=-1) {
        postfix[k++]=pop();
    }
    postfix[k]='\0';
    
    printf("Postfix expression: %s\n", postfix);
    return 0;
}
