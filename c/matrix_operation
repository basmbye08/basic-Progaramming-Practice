#include<stdio.h>
int a[10][10], b[10][10], c[10][10], r1, c1, r2, c2;

void input(int m[10][10], int r, int c) {
    for(int i=0; i<r; i++)
        for(int j=0; j<c; j++)
            scanf("%d", &m[i][j]);
}

void display(int m[10][10], int r, int c) {
    for(int i=0; i<r; i++) {
        for(int j=0; j<c; j++)
            printf("%d ", m[i][j]);
        printf("\n");
    }
}

void add() {
    for(int i=0; i<r1; i++)
        for(int j=0; j<c1; j++)
            c[i][j]=a[i][j]+b[i][j];
    display(c, r1, c1);
}

void sub() {
    for(int i=0; i<r1; i++)
        for(int j=0; j<c1; j++)
            c[i][j]=a[i][j]-b[i][j];
    display(c, r1, c1);
}

void multiply() {
    if(c1!=r2) {
        printf("Invalid\n");
        return;
    }
    for(int i=0; i<r1; i++) {
        for(int j=0; j<c2; j++) {
            c[i][j]=0;
            for(int k=0; k<c1; k++)
                c[i][j]+=a[i][k]*b[k][j];
        }
    }
    display(c, r1, c2);
}

void transpose(int m[10][10], int r, int c) {
    for(int i=0; i<c; i++) {
        for(int j=0; j<r; j++)
            printf("%d ", m[j][i]);
        printf("\n");
    }
}

int main() {
    int ch;
    printf("Matrix A rows cols: ");
    scanf("%d%d", &r1, &c1);
    printf("Enter matrix A: ");
    input(a, r1, c1);
    
    printf("Matrix B rows cols: ");
    scanf("%d%d", &r2, &c2);
    printf("Enter matrix B: ");
    input(b, r2, c2);
    
    while(1) {
        printf("1.Add 2.Subtract 3.Multiply 4.Transpose A 5.Transpose B 6.Exit: ");
        scanf("%d", &ch);
        if(ch==1) {
            if(r1==r2 && c1==c2) add();
            else printf("Invalid\n");
        }
        else if(ch==2) {
            if(r1==r2 && c1==c2) sub();
            else printf("Invalid\n");
        }
        else if(ch==3) multiply();
        else if(ch==4) transpose(a, r1, c1);
        else if(ch==5) transpose(b, r2, c2);
        else break;
    }
    return 0;
}
